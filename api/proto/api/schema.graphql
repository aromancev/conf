type Token {
    token: String!
    expiresIn: Int!
}

type Confa {
    id: String!
    owner: String!
    handle: String!
}

type Talk {
    id: String!
    owner: String!
    speaker: String!
    confa: String!
    handle: String!
}

type Clap {
    owner: String!
    speaker: String!
    confa: String!
    talk: String!
    claps: Int!
}

type Confas {
    items: [Confa!]!
    limit: Int!
    nextFrom: String!
}

type Talks {
    items: [Talk!]!
    limit: Int!
    nextFrom: String!
}

input ConfaInput {
    id: String
    owner: String
    handle: String
}

input TalkInput {
    id: String
    owner: String
    speaker: String
    confa: String
    handle: String
}

input ClapInput {
    owner: String
    speaker: String
    confa: String
    talk: String
}

type Mutation {
    login(address: String!): String!
    createSession(emailToken: String!): Token!

    createConfa(handle: String): Confa!

    createTalk(handle: String, confa: String): Talk!

    createClap(claps: Int, talk: String): Clap!
}

type Query {
    token: Token!

    confas(where: ConfaInput! = {}, from: String! = "", limit: Int! = 20): Confas!

    talks(where: TalkInput! = {}, from: String! = "", limit: Int! = 20): Talks!

    clap(where: ClapInput! = {}): Int!
}
