# main TCP port for RoomService and RTC endpoint
# for production setups, this port should be placed behind a load balancer with TLS
port: 7880

# WebRTC configuration
rtc:
  # UDP ports to use for client traffic.
  # this port range should be open for inbound traffic on the firewall
  port_range_start: 50000
  port_range_end: 60000
  # when set, LiveKit enable WebRTC ICE over TCP when UDP isn't available
  # this port *cannot* be behind load balancer or TLS, and must be exposed on the node
  # WebRTC transports are encrypted and do not require additional encryption
  # only 80/443 on public IP are allowed if less than 1024
  tcp_port: 7881
  # when set to true, attempts to discover the host's public IP via STUN
  # this is useful for cloud environments such as AWS & Google where hosts have an internal IP
  # that maps to an external one
  use_external_ip: true

# Signal Relay
# since v1.4.0, a more reliable, psrpc based signal relay is available
# this gives us the ability to reliably proxy messages between a signal server and RTC node
signal_relay:
  # disabled by default. will be enabled by default in future versions
  enabled: true

# API key / secret pairs.
# Keys are used for JWT authentication, server APIs would require a keypair in order to generate access tokens
# and make calls to the server
keys:
  devkey: 93d33a06-f209-4239-bd7f-d04d411ae7b2

# Logging config
logging:
  # log level, valid values: debug, info, warn, error
  level: error
  # log level for pion, default error
  pion_level: error
  # when set to true, emit json fields
  json: true
  # for production setups, enables sampling algorithm
  # https://github.com/uber-go/zap/blob/master/FAQ.md#why-sample-application-logs
  sample: true

# turn server
turn:
  # Uses TLS. Requires cert and key pem files by either:
  # - using turn.secretName if deploying with our helm chart, or
  # - setting LIVEKIT_TURN_CERT and LIVEKIT_TURN_KEY env vars with file locations, or
  # - using cert_file and key_file below
  # defaults to false
  enabled: true
  # defaults to 3478 - recommended to 443 if not running HTTP3/QUIC server
  # only 53/80/443 are allowed if less than 1024
  udp_port: 443
  # defaults to 5349 - if not using a load balancer, this must be set to 443
  tls_port: 5349
  # set UDP port range for TURN relay to connect to LiveKit SFU, by default it uses a any available port
  # relay_range_start: 1024
  # relay_range_end: 30000
  # set external_tls to true if using a L4 load balancer to terminate TLS. when enabled,
  # LiveKit expects unencrypted traffic on tls_port, and still advertise tls_port as a TURN/TLS candidate.
  external_tls: true
  # needs to match tls cert domain
  domain: turn.confa.io
  # optional (set only if not using external TLS termination)
  cert_file: ""
  key_file: ""
